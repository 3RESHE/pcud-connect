<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create Job Posting - PCU-DASMA Connect</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#1E40AF",
              secondary: "#3B82F6",
              accent: "#F59E0B",
            },
          },
        },
      };
    </script>
  </head>
  <body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
          <!-- Logo and Desktop Navigation -->
          <div class="flex items-center">
            <a href="../index.html" class="text-xl font-bold text-primary">
              PCU-DASMA Connect
            </a>
            <!-- Desktop Navigation Menu -->
            <div class="hidden md:ml-10 md:flex md:space-x-8">
              <a
                href="dashboard.html"
                class="text-gray-700 hover:text-primary px-1 pt-1 pb-4 text-sm font-medium transition-colors duration-200"
              >
                Dashboard
              </a>
              <a
                href="job-postings.html"
                class="text-primary border-b-2 border-primary px-1 pt-1 pb-4 text-sm font-medium"
              >
                Job Postings
              </a>
              <a
                href="partnerships.html"
                class="text-gray-700 hover:text-primary px-1 pt-1 pb-4 text-sm font-medium transition-colors duration-200"
              >
                Partnerships
              </a>
              <a
                href="news.html"
                class="text-gray-700 hover:text-primary px-1 pt-1 pb-4 text-sm font-medium transition-colors duration-200"
              >
                News
              </a>
              <a
                href="profile.html"
                class="text-gray-700 hover:text-primary px-1 pt-1 pb-4 text-sm font-medium transition-colors duration-200"
              >
                Profile
              </a>
            </div>
          </div>
          <!-- Desktop User Menu -->
          <div class="hidden md:flex items-center space-x-4">
            <div class="relative">
              <button
                onclick="toggleUserMenu()"
                class="flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-200"
                aria-label="Open user menu"
                aria-haspopup="true"
              >
                <img
                  class="h-8 w-8 rounded-full"
                  src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23374151' viewBox='0 0 24 24'%3E%3Cpath d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z'/%3E%3C/svg%3E"
                  alt="Profile"
                />
              </button>
              <div
                id="userMenu"
                class="hidden origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50 transform transition-all duration-200"
                role="menu"
                aria-orientation="vertical"
              >
                <div class="py-1">
                  <a
                    href="profile.html"
                    class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200"
                    role="menuitem"
                  >
                    Profile
                  </a>
                  <a
                    href="#"
                    onclick="logout()"
                    class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200"
                    role="menuitem"
                  >
                    Logout
                  </a>
                </div>
              </div>
            </div>
          </div>
          <!-- Mobile Menu Button -->
          <div class="md:hidden flex items-center">
            <button
              onclick="toggleMobileMenu()"
              class="inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-primary hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary transition-all duration-200"
              aria-label="Open main menu"
              aria-expanded="false"
            >
              <svg
                id="hamburgerIcon"
                class="block h-6 w-6"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                />
              </svg>
              <svg
                id="closeIcon"
                class="hidden h-6 w-6"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                />
              </svg>
            </button>
          </div>
        </div>
        <!-- Mobile Menu -->
        <div
          id="mobileMenu"
          class="md:hidden hidden transition-all duration-300 ease-in-out"
        >
          <div
            class="px-2 pt-2 pb-3 space-y-1 sm:px-3 border-t border-gray-200 bg-white"
          >
            <a
              href="dashboard.html"
              class="text-gray-700 hover:text-primary hover:bg-gray-100 block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200"
            >
              Dashboard
            </a>
            <a
              href="job-postings.html"
              class="text-primary bg-primary bg-opacity-10 block px-3 py-2 rounded-md text-base font-medium"
            >
              Job Postings
            </a>
            <a
              href="partnerships.html"
              class="text-gray-700 hover:text-primary hover:bg-gray-100 block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200"
            >
              Partnerships
            </a>
            <a
              href="news.html"
              class="text-gray-700 hover:text-primary hover:bg-gray-100 block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200"
            >
              News
            </a>
            <a
              href="profile.html"
              class="text-gray-700 hover:text-primary hover:bg-gray-100 block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200"
            >
              Profile
            </a>
          </div>
          <div class="pt-4 pb-3 border-t border-gray-200">
            <div class="flex items-center px-5">
              <div class="flex-shrink-0">
                <img
                  class="h-10 w-10 rounded-full"
                  src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23374151' viewBox='0 0 24 24'%3E%3Cpath d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z'/%3E%3C/svg%3E"
                  alt="Profile"
                />
              </div>
              <div class="ml-3">
                <div class="text-base font-medium leading-none text-gray-900">
                  User Account
                </div>
                <div
                  class="text-sm font-medium leading-none text-gray-500 mt-1"
                >
                  user@pcudasma.edu.ph
                </div>
              </div>
            </div>
            <div class="mt-3 px-2 space-y-1">
              <a
                href="profile.html"
                class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-100 transition-colors duration-200"
              >
                Profile
              </a>
              <a
                href="#"
                onclick="logout()"
                class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-100 transition-colors duration-200"
              >
                Logout
              </a>
            </div>
          </div>
        </div>
      </div>
    </nav>
    <!-- Main Content -->
    <div class="max-w-6xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
      <!-- Header -->
      <div class="mb-8">
        <div class="flex items-center mb-4">
          <a
            href="job-postings.html"
            class="text-gray-400 hover:text-gray-600 mr-4"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M15 19l-7-7 7-7"
              ></path>
            </svg>
          </a>
          <h1 class="text-3xl font-bold text-gray-900">
            Create New Job Posting
          </h1>
        </div>
        <p class="text-gray-600">
          Post job opportunities and internship programs for PCU-DASMA students
          and alumni
        </p>
      </div>
      <!-- Form Container -->
      <div class="bg-white shadow rounded-lg">
        <form id="jobPostingForm" class="divide-y divide-gray-200">
          <!-- Job Type Selection -->
          <div class="px-6 py-5">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">Job Type</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
              <!-- Full-time Position -->
              <div>
                <label
                  class="relative flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50"
                >
                  <input
                    type="radio"
                    name="job_type"
                    value="fulltime"
                    class="sr-only"
                    onchange="toggleJobTypeFields()"
                  />
                  <div class="flex-1">
                    <div class="flex items-center">
                      <div
                        class="job-type-icon w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3"
                      >
                        <svg
                          class="w-5 h-5 text-blue-600"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2V6"
                          ></path>
                        </svg>
                      </div>
                      <div>
                        <h3 class="text-sm font-medium text-gray-900">
                          Full-time Position
                        </h3>
                        <p class="text-sm text-gray-500">
                          Permanent employment
                        </p>
                      </div>
                    </div>
                  </div>
                  <div class="job-type-radio hidden">
                    <div
                      class="w-4 h-4 bg-blue-100 text-blue-800 rounded-full flex items-center justify-center"
                    >
                      <div class="w-2 h-2 bg-blue-600 rounded-full"></div>
                    </div>
                  </div>
                </label>
              </div>
              <!-- Part-time Position -->
              <div>
                <label
                  class="relative flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50"
                >
                  <input
                    type="radio"
                    name="job_type"
                    value="parttime"
                    class="sr-only"
                    onchange="toggleJobTypeFields()"
                  />
                  <div class="flex-1">
                    <div class="flex items-center">
                      <div
                        class="job-type-icon w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center mr-3"
                      >
                        <svg
                          class="w-5 h-5 text-green-600"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                          ></path>
                        </svg>
                      </div>
                      <div>
                        <h3 class="text-sm font-medium text-gray-900">
                          Part-time Position
                        </h3>
                        <p class="text-sm text-gray-500">Flexible schedule</p>
                      </div>
                    </div>
                  </div>
                  <div class="job-type-radio hidden">
                    <div
                      class="w-4 h-4 bg-green-100 text-green-800 rounded-full flex items-center justify-center"
                    >
                      <div class="w-2 h-2 bg-green-600 rounded-full"></div>
                    </div>
                  </div>
                </label>
              </div>
              <!-- Internship Program -->
              <div>
                <label
                  class="relative flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50"
                >
                  <input
                    type="radio"
                    name="job_type"
                    value="internship"
                    class="sr-only"
                    onchange="toggleJobTypeFields()"
                  />
                  <div class="flex-1">
                    <div class="flex items-center">
                      <div
                        class="job-type-icon w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-3"
                      >
                        <svg
                          class="w-5 h-5 text-purple-600"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"
                          ></path>
                        </svg>
                      </div>
                      <div>
                        <h3 class="text-sm font-medium text-gray-900">
                          Internship Program
                        </h3>
                        <p class="text-sm text-gray-500">
                          Learning opportunity
                        </p>
                      </div>
                    </div>
                  </div>
                  <div class="job-type-radio hidden">
                    <div
                      class="w-4 h-4 bg-purple-100 text-purple-800 rounded-full flex items-center justify-center"
                    >
                      <div class="w-2 h-2 bg-purple-600 rounded-full"></div>
                    </div>
                  </div>
                </label>
              </div>
              <!-- Other/Contract Position -->
              <div>
                <label
                  class="relative flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50"
                >
                  <input
                    type="radio"
                    name="job_type"
                    value="other"
                    class="sr-only"
                    onchange="toggleJobTypeFields()"
                  />
                  <div class="flex-1">
                    <div class="flex items-center">
                      <div
                        class="job-type-icon w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center mr-3"
                      >
                        <svg
                          class="w-5 h-5 text-orange-600"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                          ></path>
                        </svg>
                      </div>
                      <div>
                        <h3 class="text-sm font-medium text-gray-900">
                          Other/Contract
                        </h3>
                        <p class="text-sm text-gray-500">Freelance/Project</p>
                      </div>
                    </div>
                  </div>
                  <div class="job-type-radio hidden">
                    <div
                      class="w-4 h-4 bg-orange-100 text-orange-800 rounded-full flex items-center justify-center"
                    >
                      <div class="w-2 h-2 bg-orange-600 rounded-full"></div>
                    </div>
                  </div>
                </label>
              </div>
            </div>
          </div>
          <!-- Basic Information -->
          <div class="px-6 py-5 border-t border-gray-200">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">
              Basic Information
            </h2>
            <div class="space-y-6">
              <div>
                <label
                  for="job_title"
                  class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                >
                  <span id="job_title_label">Job Title</span>
                  <span class="text-red-500">*</span>
                </label>
                <input
                  type="text"
                  id="job_title"
                  name="job_title"
                  required
                  class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                  placeholder="e.g., Senior Software Developer - Use specific keywords like 'PHP, Laravel'"
                />
                <p class="mt-1 text-sm text-gray-500">
                  Include relevant keywords to help job seekers find your
                  posting.
                </p>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label
                    for="department"
                    class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                  >
                    Department/Team <span class="text-red-500">*</span>
                  </label>
                  <select
                    id="department"
                    name="department"
                    required
                    onchange="toggleDepartmentField()"
                    class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                  >
                    <option value="">Select Department</option>
                    <option value="it">Information Technology</option>
                    <option value="engineering">Engineering</option>
                    <option value="marketing">Marketing</option>
                    <option value="sales">Sales</option>
                    <option value="hr">Human Resources</option>
                    <option value="finance">Finance</option>
                    <option value="operations">Operations</option>
                    <option value="customer_service">Customer Service</option>
                    <option value="other">Other</option>
                  </select>
                </div>
                <div>
                  <label
                    for="experience_level"
                    class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                  >
                    Experience Level <span class="text-red-500">*</span>
                  </label>
                  <select
                    id="experience_level"
                    name="experience_level"
                    required
                    class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                  >
                    <option value="">Select Level</option>
                    <option value="entry">Entry Level (0-2 years)</option>
                    <option value="mid">Mid Level (3-5 years)</option>
                    <option value="senior">Senior Level (6+ years)</option>
                    <option value="lead">Lead/Manager Level</option>
                    <option value="student">Student/Fresh Graduate</option>
                  </select>
                </div>
              </div>
              <div id="custom_department" class="hidden">
                <label
                  for="custom_department_input"
                  class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                >
                  Specify Department <span class="text-red-500">*</span>
                </label>
                <input
                  type="text"
                  id="custom_department_input"
                  name="custom_department"
                  class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                  placeholder="e.g., Research, Legal"
                />
              </div>
              <div>
                <label
                  for="job_description"
                  class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                >
                  <span id="job_description_label">Job Description</span>
                  <span class="text-red-500">*</span>
                </label>
                <textarea
                  id="job_description"
                  name="job_description"
                  rows="5"
                  required
                  class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                  placeholder="Describe the role and responsibilities (e.g., Develop web applications\nCollaborate with cross-functional teams)"
                ></textarea>
                <p class="mt-1 text-sm text-gray-500">
                  Use one responsibility per line for clear formatting.
                </p>
              </div>
            </div>
          </div>
          <!-- Location and Work Setup -->
          <div class="px-6 py-5 border-t border-gray-200">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">
              Location & Work Setup
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label
                  for="work_setup"
                  class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                >
                  Work Setup <span class="text-red-500">*</span>
                </label>
                <select
                  id="work_setup"
                  name="work_setup"
                  required
                  onchange="toggleLocationField()"
                  class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                >
                  <option value="">Select Work Setup</option>
                  <option value="onsite">On-site</option>
                  <option value="remote">Remote</option>
                  <option value="hybrid">Hybrid</option>
                </select>
              </div>
              <div id="location_field">
                <label
                  for="location"
                  class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                >
                  Location <span class="text-red-500">*</span>
                </label>
                <input
                  type="text"
                  id="location"
                  name="location"
                  required
                  class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                  placeholder="e.g., Makati City, Metro Manila"
                />
              </div>
            </div>
          </div>
          <!-- Compensation -->
          <div class="px-6 py-5 border-t border-gray-200">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">
              <span id="compensation_title">Compensation</span>
            </h2>
            <div id="unpaid_internship_field" class="hidden mb-6">
              <label class="flex items-center">
                <input
                  type="checkbox"
                  id="unpaid_internship"
                  name="unpaid_internship"
                  class="rounded border-gray-300 text-primary focus:ring-primary"
                  onchange="toggleAllowanceFields()"
                />
                <span class="ml-2 text-sm text-gray-700"
                  >No Allowance (Unpaid Internship)</span
                >
              </label>
            </div>
            <div
              id="compensation_fields"
              class="grid grid-cols-1 md:grid-cols-3 gap-6"
            >
              <div>
                <label
                  for="salary_min"
                  class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                >
                  <span id="salary_min_label">Minimum Salary</span>
                  <span class="text-red-500">*</span>
                </label>
                <div class="relative">
                  <span class="absolute left-3 top-2 text-gray-500">₱</span>
                  <input
                    type="number"
                    id="salary_min"
                    name="salary_min"
                    min="0"
                    required
                    class="block w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                    placeholder="30000"
                  />
                </div>
                <p class="mt-1 text-sm text-gray-500">
                  Entry-level roles start around ₱30,000 monthly (2025).
                </p>
              </div>
              <div>
                <label
                  for="salary_max"
                  class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                >
                  <span id="salary_max_label">Maximum Salary</span>
                  <span class="text-red-500">*</span>
                </label>
                <div class="relative">
                  <span class="absolute left-3 top-2 text-gray-500">₱</span>
                  <input
                    type="number"
                    id="salary_max"
                    name="salary_max"
                    min="0"
                    required
                    class="block w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                    placeholder="50000"
                  />
                </div>
                <p class="mt-1 text-sm text-gray-500">
                  Senior roles can reach ₱80,000+ monthly (2025).
                </p>
              </div>
              <div id="salary_period_field">
                <label
                  for="salary_period"
                  class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                >
                  Pay Period <span class="text-red-500">*</span>
                </label>
                <select
                  id="salary_period"
                  name="salary_period"
                  required
                  class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                >
                  <option value="monthly">Monthly</option>
                  <option value="hourly">Hourly</option>
                  <option value="daily">Daily</option>
                  <option value="project">Per Project</option>
                </select>
              </div>
            </div>
            <!-- Internship Duration Field -->
            <div id="internship_duration" class="mt-6 hidden">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label
                    for="duration_months"
                    class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                  >
                    Internship Duration <span class="text-red-500">*</span>
                  </label>
                  <select
                    id="duration_months"
                    name="duration_months"
                    required
                    class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                  >
                    <option value="">Select Duration</option>
                    <option value="1">1 month</option>
                    <option value="2">2 months</option>
                    <option value="3">3 months</option>
                    <option value="4">4 months</option>
                    <option value="5">5 months</option>
                    <option value="6">6 months</option>
                    <option value="12">12 months</option>
                  </select>
                </div>
                <div>
                  <label
                    for="start_date"
                    class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                  >
                    Preferred Start Date
                  </label>
                  <input
                    type="date"
                    id="start_date"
                    name="start_date"
                    class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                  />
                </div>
              </div>
            </div>
          </div>
          <!-- Requirements -->
          <div class="px-6 py-5 border-t border-gray-200">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">
              Requirements
            </h2>
            <div class="space-y-6">
              <div>
                <label
                  for="education"
                  class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                >
                  Education & Experience Requirements
                  <span class="text-red-500">*</span>
                </label>
                <textarea
                  id="education"
                  name="education"
                  rows="3"
                  required
                  class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                  placeholder="One requirement per line, e.g.:\nBachelor's degree in Computer Science\n5+ years of software development\nExperience leading projects"
                ></textarea>
                <p class="mt-1 text-sm text-gray-500">
                  List education and experience requirements, one per line, for
                  clear formatting.
                </p>
              </div>
              <div>
                <label
                  class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                >
                  Technical Skills <span class="text-red-500">*</span>
                </label>
                <div class="relative">
                  <input
                    type="text"
                    id="skills_input"
                    name="skills_input"
                    class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                    placeholder="e.g., JavaScript, React, Node.js (press Enter or comma)"
                    onkeydown="handleSkillsInput(event)"
                  />
                  <input type="hidden" id="skills" name="skills" />
                </div>
                <div id="skills_tags" class="flex flex-wrap gap-2 mt-2"></div>
                <p class="mt-1 text-sm text-gray-500">
                  Type a skill and press Enter or comma to add as a tag.
                </p>
              </div>
              <div id="experience_requirements">
                <label
                  for="experience"
                  class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                >
                  Additional Experience Requirements
                </label>
                <textarea
                  id="experience"
                  name="experience"
                  rows="3"
                  class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                  placeholder="One requirement per line, e.g.:\nExperience with Agile methodologies\nFamiliarity with cloud platforms"
                ></textarea>
                <p class="mt-1 text-sm text-gray-500">
                  List additional experience requirements, one per line.
                </p>
              </div>
            </div>
          </div>
          <!-- Application Process -->
          <div class="px-6 py-5 border-t border-gray-200">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">
              Application Process
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label
                  for="application_deadline"
                  class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                >
                  Application Deadline <span class="text-red-500">*</span>
                </label>
                <input
                  type="date"
                  id="application_deadline"
                  name="application_deadline"
                  required
                  class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                />
              </div>
              <div>
                <label
                  for="positions_available"
                  class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                >
                  Number of Positions <span class="text-red-500">*</span>
                </label>
                <input
                  type="number"
                  id="positions_available"
                  name="positions_available"
                  min="1"
                  required
                  class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                  placeholder="1"
                />
              </div>
            </div>
            <div class="mt-6">
              <label
                for="application_process"
                class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
              >
                Application Instructions
              </label>
              <textarea
                id="application_process"
                name="application_process"
                rows="3"
                class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                placeholder="One step per line, e.g.:\nSubmit resume and cover letter\nAttend technical interview\nComplete coding assessment"
              ></textarea>
              <p class="mt-1 text-sm text-gray-500">
                List application steps, one per line, for numbered formatting.
              </p>
            </div>
          </div>
          <!-- Benefits and Perks -->
          <div class="px-6 py-5 border-t border-gray-200">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">
              Benefits & Perks
            </h2>
            <div class="space-y-6">
              <div>
                <label
                  for="benefits"
                  class="block text-sm font-medium text-gray-500 uppercase tracking-wide mb-1"
                >
                  Benefits & Perks
                </label>
                <textarea
                  id="benefits"
                  name="benefits"
                  rows="3"
                  class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"
                  placeholder="One benefit per line, e.g.:\nHealth Insurance\nPaid Time Off\nFlexible Hours"
                ></textarea>
                <p class="mt-1 text-sm text-gray-500">
                  List benefits, one per line, for bulleted formatting.
                </p>
              </div>
            </div>
          </div>
          <!-- Action Buttons -->
          <div class="px-6 py-5 bg-gray-50 border-t border-gray-200">
            <div class="flex justify-between">
              <button
                type="button"
                onclick="saveDraft()"
                class="px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 font-medium"
              >
                Save as Draft
              </button>
              <div class="flex space-x-3">
                <button
                  type="button"
                  onclick="previewJob()"
                  class="px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 font-medium"
                >
                  Preview
                </button>
                <button
                  type="submit"
                  class="px-6 py-2 bg-primary text-white rounded-md hover:bg-blue-700 font-medium"
                >
                  Submit for Review
                </button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
    <!-- Preview Modal -->
    <div id="previewModal" class="hidden fixed inset-0 z-50 overflow-y-auto">
      <div
        class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20"
      >
        <div
          class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"
        ></div>
        <div class="relative bg-white rounded-lg max-w-6xl w-full shadow-xl">
          <div
            class="px-6 py-5 border-b border-gray-200 flex justify-between items-center"
          >
            <h3 class="text-xl font-semibold text-gray-900">
              Job Posting Preview
            </h3>
            <button
              onclick="closePreviewModal()"
              class="text-gray-400 hover:text-gray-600"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                ></path>
              </svg>
            </button>
          </div>
          <div class="p-6 max-h-[80vh] overflow-y-auto">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
              <div class="lg:col-span-2 space-y-8">
                <div class="bg-white shadow rounded-lg p-6">
                  <h2 class="text-xl font-semibold text-gray-900 mb-4">
                    Job Description
                  </h2>
                  <div class="prose max-w-none">
                    <div id="previewDescription"></div>
                    <div id="previewRequirements" class="mt-6"></div>
                    <div id="previewBenefits" class="mt-6"></div>
                    <div id="previewApplicationProcess" class="mt-6"></div>
                  </div>
                </div>
              </div>
              <div class="space-y-6">
                <div class="bg-white shadow rounded-lg p-6">
                  <h2 class="text-lg font-semibold text-gray-900 mb-4">
                    Job Details
                  </h2>
                  <div class="space-y-3">
                    <div>
                      <p
                        class="text-sm font-medium text-gray-500 uppercase tracking-wide"
                      >
                        Job Type
                      </p>
                      <p id="previewJobType" class="text-sm text-gray-600"></p>
                    </div>
                    <div>
                      <p
                        class="text-sm font-medium text-gray-500 uppercase tracking-wide"
                      >
                        Department
                      </p>
                      <p
                        id="previewDepartment"
                        class="text-sm text-gray-600"
                      ></p>
                    </div>
                    <div>
                      <p
                        class="text-sm font-medium text-gray-500 uppercase tracking-wide"
                      >
                        Experience Level
                      </p>
                      <p
                        id="previewExperienceLevel"
                        class="text-sm text-gray-600"
                      ></p>
                    </div>
                    <div>
                      <p
                        class="text-sm font-medium text-gray-500 uppercase tracking-wide"
                      >
                        Work Setup
                      </p>
                      <p
                        id="previewWorkSetup"
                        class="text-sm text-gray-600"
                      ></p>
                    </div>
                    <div>
                      <p
                        class="text-sm font-medium text-gray-500 uppercase tracking-wide"
                      >
                        Location
                      </p>
                      <p id="previewLocation" class="text-sm text-gray-600"></p>
                    </div>
                    <div>
                      <p
                        class="text-sm font-medium text-gray-500 uppercase tracking-wide"
                      >
                        Compensation
                      </p>
                      <p
                        id="previewCompensation"
                        class="text-sm text-gray-600"
                      ></p>
                    </div>
                    <div>
                      <p
                        class="text-sm font-medium text-gray-500 uppercase tracking-wide"
                      >
                        Positions Available
                      </p>
                      <p
                        id="previewPositions"
                        class="text-sm text-gray-600"
                      ></p>
                    </div>
                    <div>
                      <p
                        class="text-sm font-medium text-gray-500 uppercase tracking-wide"
                      >
                        Application Deadline
                      </p>
                      <p id="previewDeadline" class="text-sm text-gray-600"></p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div
            class="px-6 py-4 border-t border-gray-200 flex justify-end space-x-3"
          >
            <button
              onclick="closePreviewModal()"
              class="px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"
            >
              Edit
            </button>
            <button
              onclick="submitForm()"
              class="px-4 py-2 bg-primary text-white rounded-md hover:bg-blue-700"
            >
              Submit for Review
            </button>
          </div>
        </div>
      </div>
    </div>
    <script>
      let skillsArray = [];
      function toggleMobileMenu() {
        const mobileMenu = document.getElementById("mobileMenu");
        const hamburgerIcon = document.getElementById("hamburgerIcon");
        const closeIcon = document.getElementById("closeIcon");
        mobileMenu.classList.toggle("hidden");
        hamburgerIcon.classList.toggle("hidden");
        closeIcon.classList.toggle("hidden");
        const button = document.querySelector('[onclick="toggleMobileMenu()"]');
        const isExpanded = !mobileMenu.classList.contains("hidden");
        button.setAttribute("aria-expanded", isExpanded);
      }
      function toggleUserMenu() {
        const menu = document.getElementById("userMenu");
        menu.classList.toggle("hidden");
      }
      function logout() {
        if (confirm("Are you sure you want to logout?")) {
          window.location.href = "../login.html";
        }
      }
      function toggleJobTypeFields() {
        const selectedType = document.querySelector(
          'input[name="job_type"]:checked'
        )?.value;
        const internshipDuration = document.getElementById(
          "internship_duration"
        );
        const experienceField = document.getElementById(
          "experience_requirements"
        );
        const durationMonths = document.getElementById("duration_months");
        const unpaidField = document.getElementById("unpaid_internship_field");
        if (selectedType === "internship") {
          document.getElementById("job_title_label").textContent =
            "Internship Title";
          document.getElementById("job_description_label").textContent =
            "Internship Description";
          document.getElementById("compensation_title").textContent =
            "Allowance/Stipend";
          document.getElementById("salary_min_label").textContent =
            "Minimum Allowance";
          document.getElementById("salary_max_label").textContent =
            "Maximum Allowance";
          internshipDuration.classList.remove("hidden");
          unpaidField.classList.remove("hidden");
          experienceField.classList.add("hidden");
          durationMonths.setAttribute("required", "required");
          document.getElementById("salary_period").value = "monthly";
          toggleAllowanceFields();
        } else if (selectedType === "parttime") {
          document.getElementById("job_title_label").textContent = "Job Title";
          document.getElementById("job_description_label").textContent =
            "Job Description";
          document.getElementById("compensation_title").textContent =
            "Compensation";
          document.getElementById("salary_min_label").textContent =
            "Minimum Salary";
          document.getElementById("salary_max_label").textContent =
            "Maximum Salary";
          internshipDuration.classList.add("hidden");
          unpaidField.classList.add("hidden");
          experienceField.classList.remove("hidden");
          durationMonths.removeAttribute("required");
          document.getElementById("salary_period").value = "hourly";
        } else if (selectedType === "fulltime") {
          document.getElementById("job_title_label").textContent = "Job Title";
          document.getElementById("job_description_label").textContent =
            "Job Description";
          document.getElementById("compensation_title").textContent =
            "Compensation";
          document.getElementById("salary_min_label").textContent =
            "Minimum Salary";
          document.getElementById("salary_max_label").textContent =
            "Maximum Salary";
          internshipDuration.classList.add("hidden");
          unpaidField.classList.add("hidden");
          experienceField.classList.remove("hidden");
          durationMonths.removeAttribute("required");
          document.getElementById("salary_period").value = "monthly";
        } else if (selectedType === "other") {
          document.getElementById("job_title_label").textContent =
            "Position Title";
          document.getElementById("job_description_label").textContent =
            "Position Description";
          document.getElementById("compensation_title").textContent =
            "Compensation";
          document.getElementById("salary_min_label").textContent =
            "Minimum Pay";
          document.getElementById("salary_max_label").textContent =
            "Maximum Pay";
          internshipDuration.classList.add("hidden");
          unpaidField.classList.add("hidden");
          experienceField.classList.remove("hidden");
          durationMonths.removeAttribute("required");
          document.getElementById("salary_period").value = "project";
        }
        document.querySelectorAll('input[name="job_type"]').forEach((radio) => {
          const label = radio.closest("label");
          const radioIcon = label.querySelector(".job-type-radio");
          if (radio.checked) {
            label.classList.add(
              radio.value === "fulltime"
                ? "bg-blue-50"
                : radio.value === "parttime"
                ? "bg-green-50"
                : radio.value === "internship"
                ? "bg-purple-50"
                : "bg-orange-50",
              "border-primary"
            );
            radioIcon.classList.remove("hidden");
          } else {
            label.classList.remove(
              "bg-blue-50",
              "bg-green-50",
              "bg-purple-50",
              "bg-orange-50",
              "border-primary"
            );
            radioIcon.classList.add("hidden");
          }
        });
      }
      function toggleDepartmentField() {
        const selectedDepartment = document.getElementById("department").value;
        const customDepartment = document.getElementById("custom_department");
        const customDepartmentInput = document.getElementById(
          "custom_department_input"
        );
        if (selectedDepartment === "other") {
          customDepartment.classList.remove("hidden");
          customDepartmentInput.setAttribute("required", "required");
        } else {
          customDepartment.classList.add("hidden");
          customDepartmentInput.removeAttribute("required");
        }
      }
      function toggleLocationField() {
        const workSetup = document.getElementById("work_setup").value;
        const locationField = document.getElementById("location_field");
        const locationInput = document.getElementById("location");
        if (workSetup === "remote") {
          locationField.classList.add("hidden");
          locationInput.removeAttribute("required");
        } else {
          locationField.classList.remove("hidden");
          locationInput.setAttribute("required", "required");
        }
      }
      function toggleAllowanceFields() {
        const unpaidCheckbox = document.getElementById("unpaid_internship");
        const compensationFields = document.getElementById(
          "compensation_fields"
        );
        const salaryMin = document.getElementById("salary_min");
        const salaryMax = document.getElementById("salary_max");
        const salaryPeriod = document.getElementById("salary_period");
        if (unpaidCheckbox.checked) {
          compensationFields.classList.add("hidden");
          salaryMin.removeAttribute("required");
          salaryMax.removeAttribute("required");
          salaryPeriod.removeAttribute("required");
          salaryMin.value = 0;
          salaryMax.value = 0;
        } else {
          compensationFields.classList.remove("hidden");
          salaryMin.setAttribute("required", "required");
          salaryMax.setAttribute("required", "required");
          salaryPeriod.setAttribute("required", "required");
        }
      }
      function handleSkillsInput(event) {
        if (event.key === "Enter" || event.key === ",") {
          event.preventDefault();
          const input = document.getElementById("skills_input");
          const skill = input.value.trim();
          if (skill && !skillsArray.includes(skill)) {
            skillsArray.push(skill);
            updateSkillsTags();
            input.value = "";
          }
        }
      }
      function updateSkillsTags() {
        const tagsContainer = document.getElementById("skills_tags");
        const hiddenSkillsInput = document.getElementById("skills");
        tagsContainer.innerHTML = "";
        skillsArray.forEach((skill, index) => {
          const tag = document.createElement("span");
          tag.className =
            "px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded flex items-center";
          tag.innerHTML = `
            ${skill}
            <button type="button" class="ml-2 text-blue-600 hover:text-blue-800" onclick="removeSkill(${index})">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
          `;
          tagsContainer.appendChild(tag);
        });
        hiddenSkillsInput.value = skillsArray.join(",");
      }
      function removeSkill(index) {
        skillsArray.splice(index, 1);
        updateSkillsTags();
      }
      function saveDraft() {
        if (confirm("Save current progress as draft?")) {
          alert("Job posting saved as draft! You can continue editing later.");
          window.location.href = "job-postings.html";
        }
      }
      function previewJob() {
        const formData = new FormData(
          document.getElementById("jobPostingForm")
        );
        const jobType = formData.get("job_type");
        const jobTitle = formData.get("job_title");
        const department = formData.get("department");
        const customDepartment = formData.get("custom_department");
        const effectiveDepartment =
          department === "other" ? customDepartment : department;
        const location = formData.get("location");
        const workSetup = formData.get("work_setup");
        const salaryMin = formData.get("salary_min");
        const salaryMax = formData.get("salary_max");
        const salaryPeriod = formData.get("salary_period");
        const jobDescription = formData.get("job_description");
        const skills = skillsArray;
        const unpaidInternship = formData.get("unpaid_internship");
        const benefits = formData.get("benefits");
        const education = formData.get("education");
        const experience = formData.get("experience");
        const applicationProcess = formData.get("application_process");
        const positionsAvailable = formData.get("positions_available");
        const applicationDeadline = formData.get("application_deadline");
        if (
          !jobType ||
          !jobTitle ||
          !department ||
          (department === "other" && !customDepartment) ||
          !workSetup ||
          (!unpaidInternship && (!salaryMin || !salaryMax || !salaryPeriod)) ||
          !jobDescription ||
          !skills.length ||
          !education ||
          !positionsAvailable ||
          !applicationDeadline
        ) {
          alert("Please fill in all required fields before previewing.");
          return;
        }
        let typeLabel = "";
        let compensationLabel = "";
        let compensationDisplay = "";
        switch (jobType) {
          case "fulltime":
            typeLabel = "Full-time";
            compensationLabel = "Salary Range";
            break;
          case "parttime":
            typeLabel = "Part-time";
            compensationLabel = "Salary Range";
            break;
          case "internship":
            typeLabel = "Internship";
            compensationLabel = "Allowance";
            break;
          case "other":
            typeLabel = "Other/Contract";
            compensationLabel = "Compensation";
            break;
        }
        if (unpaidInternship) {
          compensationDisplay =
            "<p class='text-lg text-gray-900'>Unpaid Internship</p>";
        } else {
          compensationDisplay = `<p class="text-lg text-gray-900">₱${parseInt(
            salaryMin
          ).toLocaleString()} - ₱${parseInt(
            salaryMax
          ).toLocaleString()} / ${salaryPeriod}</p>`;
        }
        const descriptionContent = `
          <h1 class="text-3xl font-bold text-gray-900 mb-2">${
            jobTitle || "Job Title"
          }</h1>
          <div class="flex items-center space-x-2 mb-4">
            <span class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium">Pending Approval</span>
            <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">${typeLabel}</span>
            <span class="bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-sm">${
              document.getElementById("experience_level").options[
                document.getElementById("experience_level").selectedIndex
              ].text
            }</span>
          </div>
          <p class="text-gray-700 mb-4">${jobDescription
            .split("\n")
            .map((line) => `<span>${line}</span><br>`)
            .join("")}</p>
        `;
        const requirementsContent = `
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Requirements</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <h4 class="text-base font-medium text-gray-900 mb-3">Education & Experience</h4>
              <ul class="list-disc list-inside text-gray-700 space-y-1">
                ${education
                  .split("\n")
                  .map((item) => `<li>${item.trim()}</li>`)
                  .join("")}
              </ul>
              ${
                experience
                  ? `
                <h4 class="text-base font-medium text-gray-900 mt-4 mb-3">Additional Experience</h4>
                <ul class="list-disc list-inside text-gray-700 space-y-1">
                  ${experience
                    .split("\n")
                    .map((item) => `<li>${item.trim()}</li>`)
                    .join("")}
                </ul>
              `
                  : ""
              }
            </div>
            <div>
              <h4 class="text-base font-medium text-gray-900 mb-3">Technical Skills</h4>
              <div class="flex flex-wrap gap-2">
                ${skills
                  .map(
                    (skill) =>
                      `<span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded">${skill}</span>`
                  )
                  .join("")}
              </div>
            </div>
          </div>
        `;
        const benefitsContent = benefits
          ? `
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Benefits & Perks</h3>
          <ul class="list-disc list-inside text-gray-700 space-y-1">
            ${benefits
              .split("\n")
              .map((benefit) => `<li>${benefit.trim()}</li>`)
              .join("")}
          </ul>
        `
          : "";
        const applicationProcessContent = applicationProcess
          ? `
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Application Process</h3>
          <ol class="list-decimal list-inside text-gray-700 space-y-1">
            ${applicationProcess
              .split("\n")
              .map((step) => `<li>${step.trim()}</li>`)
              .join("")}
          </ol>
        `
          : "";
        document.getElementById("previewDescription").innerHTML =
          descriptionContent;
        document.getElementById("previewRequirements").innerHTML =
          requirementsContent;
        document.getElementById("previewBenefits").innerHTML = benefitsContent;
        document.getElementById("previewApplicationProcess").innerHTML =
          applicationProcessContent;
        document.getElementById("previewJobType").textContent = typeLabel;
        document.getElementById("previewDepartment").textContent =
          effectiveDepartment || "Not specified";
        document.getElementById("previewExperienceLevel").textContent =
          document.getElementById("experience_level").options[
            document.getElementById("experience_level").selectedIndex
          ].text;
        document.getElementById("previewWorkSetup").textContent = workSetup
          ? workSetup.charAt(0).toUpperCase() + workSetup.slice(1)
          : "Not specified";
        document.getElementById("previewLocation").textContent =
          location || "Not specified";
        document.getElementById("previewCompensation").innerHTML =
          compensationDisplay;
        document.getElementById("previewPositions").textContent =
          positionsAvailable || "Not specified";
        document.getElementById("previewDeadline").textContent =
          applicationDeadline || "Not specified";
        document.getElementById("previewModal").classList.remove("hidden");
      }
      function closePreviewModal() {
        document.getElementById("previewModal").classList.add("hidden");
      }
      function submitForm() {
        document
          .getElementById("jobPostingForm")
          .dispatchEvent(new Event("submit"));
      }
      document
        .getElementById("jobPostingForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          const formData = new FormData(this);
          const jobType = formData.get("job_type");
          const jobTitle = formData.get("job_title");
          const department = formData.get("department");
          const customDepartment = formData.get("custom_department");
          const education = formData.get("education");
          if (!jobType) {
            alert("Please select a job type.");
            return;
          }
          if (department === "other" && !customDepartment) {
            alert("Please specify the department for 'Other' option.");
            return;
          }
          if (!skillsArray.length) {
            alert("Please add at least one skill.");
            return;
          }
          if (!education.trim()) {
            alert("Please provide education and experience requirements.");
            return;
          }
          const typeText =
            jobType === "other"
              ? "other position"
              : jobType === "fulltime"
              ? "full-time job"
              : jobType === "parttime"
              ? "part-time job"
              : "internship";
          if (
            confirm(
              `Submit ${typeText} posting "${jobTitle}" for admin review?`
            )
          ) {
            alert(
              "Job posting submitted successfully! It will be reviewed by administrators before being published."
            );
            window.location.href = "job-postings.html";
          }
        });
      document
        .getElementById("previewModal")
        .addEventListener("click", function (e) {
          if (e.target === this) {
            closePreviewModal();
          }
        });
      document.addEventListener("click", function (event) {
        const menu = document.getElementById("userMenu");
        const button = event.target.closest("button");
        if (!button || button.onclick !== toggleUserMenu) {
          menu.classList.add("hidden");
        }
      });
      document.addEventListener("DOMContentLoaded", function () {
        const today = new Date().toISOString().split("T")[0];
        document
          .getElementById("application_deadline")
          .setAttribute("min", today);
        document.getElementById("start_date").setAttribute("min", today);
      });
    </script>
  </body>
</html>
