<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Management - PCU-DASMA Connect</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#1E40AF",
              secondary: "#3B82F6",
              accent: "#F59E0B",
            },
          },
        },
      };
    </script>
  </head>
  <body class="bg-gray-50">
    <div class="flex h-screen overflow-hidden">
      <!-- Sidebar -->
      <aside
        id="sidebar"
        class="bg-white w-64 min-h-screen shadow-lg transform -translate-x-full transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 fixed z-50"
      >
        <div class="flex flex-col h-full">
          <!-- Logo -->
          <div
            class="flex items-center justify-between p-4 border-b border-gray-200"
          >
            <a href="../index.html" class="text-xl font-bold text-primary"
              >PCU-DASMA Connect</a
            >
            <button
              id="closeSidebar"
              class="lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                ></path>
              </svg>
            </button>
          </div>

          <!-- Navigation -->
          <nav class="flex-1 px-4 py-6 space-y-2 overflow-y-auto">
            <a
              href="dashboard.html"
              class="flex items-center px-4 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100"
            >
              <svg
                class="w-5 h-5 mr-3"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"
                ></path>
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="m8 5 4-4 4 4"
                ></path>
              </svg>
              Dashboard
            </a>
            <a
              href="users.html"
              class="flex items-center px-4 py-2 text-sm font-medium text-white bg-primary rounded-lg"
            >
              <svg
                class="w-5 h-5 mr-3"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M17 20h5v-1a4 4 0 0 0-4-4h-1M9 20H4v-1a4 4 0 0 1 4-4h1m8-6a4 4 0 1 1-8 0 4 4 0 0 1 8 0zm-6 6h4"
                />
              </svg>
              Users
            </a>
            <div class="space-y-1">
              <button
                onclick="toggleDropdown('approvals')"
                class="flex items-center justify-between w-full px-4 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100 focus:outline-none"
              >
                <div class="flex items-center">
                  <svg
                    class="w-5 h-5 mr-3"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                    ></path>
                  </svg>
                  Approvals
                </div>
                <svg
                  id="approvals-arrow"
                  class="w-4 h-4 transform transition-transform duration-200"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M19 9l-7 7-7-7"
                  ></path>
                </svg>
              </button>
              <div id="approvals-menu" class="hidden ml-4 space-y-1">
                <a
                  href="approve-jobs.html"
                  class="flex items-center px-4 py-2 text-sm text-gray-600 rounded-lg hover:bg-gray-100"
                >
                  <svg
                    class="w-4 h-4 mr-3"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2V6"
                    ></path>
                  </svg>
                  Job Post Approvals
                  <span
                    class="ml-auto bg-red-100 text-red-800 text-xs px-2 py-0.5 rounded-full"
                    >3</span
                  >
                </a>
                <a
                  href="approve-news.html"
                  class="flex items-center px-4 py-2 text-sm text-gray-600 rounded-lg hover:bg-gray-100"
                >
                  <svg
                    class="w-4 h-4 mr-3"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"
                    ></path>
                  </svg>
                  News Approvals
                  <span
                    class="ml-auto bg-red-100 text-red-800 text-xs px-2 py-0.5 rounded-full"
                    >2</span
                  >
                </a>
                <a
                  href="approve-events.html"
                  class="flex items-center px-4 py-2 text-sm text-gray-600 rounded-lg hover:bg-gray-100"
                >
                  <svg
                    class="w-4 h-4 mr-3"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m-6 9l2 2 4-4M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                    ></path>
                  </svg>
                  Event Approvals
                  <span
                    class="ml-auto bg-red-100 text-red-800 text-xs px-2 py-0.5 rounded-full"
                    >1</span
                  >
                </a>
              </div>
            </div>
            <a
              href="approve-partnerships.html"
              class="flex items-center px-4 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100"
            >
              <svg
                class="w-5 h-5 mr-3"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"
                ></path>
              </svg>
              Partnerships
              <span
                class="ml-auto bg-yellow-100 text-yellow-800 text-xs px-2 py-0.5 rounded-full"
                >2</span
              >
            </a>
            <div class="border-t border-gray-200 my-4"></div>
            <a
              href="settings.html"
              class="flex items-center px-4 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100"
            >
              <svg
                class="w-5 h-5 mr-3"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"
                ></path>
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                ></path>
              </svg>
              Settings
            </a>
          </nav>

          <!-- User Profile -->
          <div class="border-t border-gray-200 p-4">
            <div class="flex items-center">
              <img
                class="h-8 w-8 rounded-full"
                src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23374151' viewBox='0 0 24 24'%3E%3Cpath d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z'/%3E%3C/svg%3E"
                alt="Profile"
              />
              <div class="ml-3 flex-1">
                <p class="text-sm font-medium text-gray-700">Admin User</p>
                <p class="text-xs text-gray-500">admin@pcu.edu.ph</p>
              </div>
              <div class="relative">
                <button
                  onclick="toggleUserMenu()"
                  class="p-2 rounded-md text-gray-400 hover:text-gray-600"
                >
                  <svg
                    class="w-4 h-4"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"
                    ></path>
                  </svg>
                </button>
                <div
                  id="userMenu"
                  class="hidden origin-bottom-right absolute bottom-0 right-0 mb-12 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5"
                >
                  <div class="py-1">
                    <a
                      href="#"
                      class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                      >Admin Profile</a
                    >
                    <a
                      href="#"
                      onclick="logout()"
                      class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                      >Logout</a
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </aside>

      <!-- Main Content -->
      <div class="flex-1 flex flex-col overflow-hidden">
        <!-- Top Header -->
        <header class="bg-white shadow-sm border-b lg:hidden">
          <div class="flex items-center justify-between px-4 py-3">
            <button
              id="openSidebar"
              class="p-2 rounded-md text-gray-400 hover:text-gray-600"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                ></path>
              </svg>
            </button>
            <h1 class="text-xl font-bold text-primary">User Management</h1>
            <div class="w-10"></div>
          </div>
        </header>

        <!-- Content Area -->
        <main class="flex-1 overflow-y-auto">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <!-- Header -->
            <div class="flex justify-between items-center mb-8">
              <div>
                <h1 class="text-3xl font-bold text-gray-900">
                  User Management
                </h1>
                <p class="text-gray-600">
                  Manage all platform users and their roles
                </p>
              </div>
              <div class="flex space-x-3">
                <button
                  onclick="openBulkUploadModal()"
                  class="px-4 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 flex items-center"
                >
                  <svg
                    class="w-4 h-4 mr-2"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                    ></path>
                  </svg>
                  Bulk Upload
                </button>
                <button
                  onclick="openCreateUserModal()"
                  class="px-4 py-2 bg-primary text-white text-sm rounded-md hover:bg-blue-700 flex items-center"
                >
                  <svg
                    class="w-4 h-4 mr-2"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M12 6v6m0 0v6m0-6h6m-6 0H6"
                    ></path>
                  </svg>
                  Create Account
                </button>
              </div>
            </div>

            <!-- Stats Cards -->
            <div
              class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-6 mb-8"
            >
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <div class="flex items-center">
                  <div class="flex-shrink-0">
                    <div
                      class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center"
                    >
                      <svg
                        class="w-5 h-5 text-blue-600"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M17 20h5v-1a4 4 0 0 0-4-4h-1M9 20H4v-1a4 4 0 0 1 4-4h1m8-6a4 4 0 1 1-8 0 4 4 0 0 1 8 0zm-6 6h4"
                        ></path>
                      </svg>
                    </div>
                  </div>
                  <div class="ml-4">
                    <p class="text-sm font-medium text-gray-600">Total Users</p>
                    <p class="text-2xl font-semibold text-gray-900">1,234</p>
                  </div>
                </div>
              </div>
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <div class="flex items-center">
                  <div class="flex-shrink-0">
                    <div
                      class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center"
                    >
                      <svg
                        class="w-5 h-5 text-green-600"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M12 14l9-5-9-5-9 5 9 5z"
                        ></path>
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="m12 14 6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"
                        ></path>
                      </svg>
                    </div>
                  </div>
                  <div class="ml-4">
                    <p class="text-sm font-medium text-gray-600">Alumni</p>
                    <p class="text-2xl font-semibold text-gray-900">789</p>
                  </div>
                </div>
              </div>
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <div class="flex items-center">
                  <div class="flex-shrink-0">
                    <div
                      class="w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center"
                    >
                      <svg
                        class="w-5 h-5 text-indigo-600"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M4 19.5A2.5 2.5 0 016.5 17H20"
                        ></path>
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z"
                        ></path>
                      </svg>
                    </div>
                  </div>
                  <div class="ml-4">
                    <p class="text-sm font-medium text-gray-600">Students</p>
                    <p class="text-2xl font-semibold text-gray-900">400</p>
                  </div>
                </div>
              </div>
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <div class="flex items-center">
                  <div class="flex-shrink-0">
                    <div
                      class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center"
                    >
                      <svg
                        class="w-5 h-5 text-purple-600"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"
                        ></path>
                      </svg>
                    </div>
                  </div>
                  <div class="ml-4">
                    <p class="text-sm font-medium text-gray-600">Partners</p>
                    <p class="text-2xl font-semibold text-gray-900">32</p>
                  </div>
                </div>
              </div>
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <div class="flex items-center">
                  <div class="flex-shrink-0">
                    <div
                      class="w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center"
                    >
                      <svg
                        class="w-5 h-5 text-yellow-600"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"
                        ></path>
                      </svg>
                    </div>
                  </div>
                  <div class="ml-4">
                    <p class="text-sm font-medium text-gray-600">Staff</p>
                    <p class="text-2xl font-semibold text-gray-900">10</p>
                  </div>
                </div>
              </div>
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <div class="flex items-center">
                  <div class="flex-shrink-0">
                    <div
                      class="w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center"
                    >
                      <svg
                        class="w-5 h-5 text-orange-600"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.881 21.881 0 008.794 3.04a4.93 4.93 0 011.413-2.355m5.433 4.082c-.068-.025-.15-.05-.234-.05h-.558c-.084 0-.166.025-.234.05m.593 3.753c-.019-.04-.06-.081-.126-.119A7.912 7.912 0 0112 4a7.912 7.912 0 01-6.128 2.903c-.066.038-.107.079-.126.119m11.667 7.036A15.953 15.953 0 0112 20a15.953 15.953 0 01-5.667-1.043m5.858-12a.75.75 0 00-1.182-.632A6.99 6.99 0 0012 18a6.99 6.99 0 00-6.917-3.917c-.36.124-.696.31-.973.562"
                        ></path>
                      </svg>
                    </div>
                  </div>
                  <div class="ml-4">
                    <p class="text-sm font-medium text-gray-600">Admins</p>
                    <p class="text-2xl font-semibold text-gray-900">3</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Filter Tabs -->
            <div class="mb-8">
              <div class="border-b border-gray-200">
                <nav class="-mb-px flex space-x-8 overflow-x-auto">
                  <button
                    onclick="filterUsers('all')"
                    class="user-filter active border-b-2 border-primary text-primary py-2 px-1 text-sm font-medium whitespace-nowrap"
                  >
                    All (1,234)
                  </button>
                  <button
                    onclick="filterUsers('alumni')"
                    class="user-filter border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-2 px-1 text-sm font-medium whitespace-nowrap"
                  >
                    Alumni (789)
                  </button>
                  <button
                    onclick="filterUsers('student')"
                    class="user-filter border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-2 px-1 text-sm font-medium whitespace-nowrap"
                  >
                    Student (400)
                  </button>
                  <button
                    onclick="filterUsers('partner')"
                    class="user-filter border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-2 px-1 text-sm font-medium whitespace-nowrap"
                  >
                    Partners (32)
                  </button>
                  <button
                    onclick="filterUsers('staff')"
                    class="user-filter border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-2 px-1 text-sm font-medium whitespace-nowrap"
                  >
                    Staff (10)
                  </button>
                  <button
                    onclick="filterUsers('admin')"
                    class="user-filter border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-2 px-1 text-sm font-medium whitespace-nowrap"
                  >
                    Admin (3)
                  </button>
                </nav>
              </div>
            </div>

            <!-- Search and Filter Bar -->
            <div class="mb-6 flex flex-col sm:flex-row gap-4">
              <div class="flex-1">
                <div class="relative">
                  <div
                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                  >
                    <svg
                      class="h-5 w-5 text-gray-400"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                      ></path>
                    </svg>
                  </div>
                  <input
                    type="text"
                    placeholder="Search users by name, email, or ID..."
                    class="block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary focus:border-primary"
                  />
                </div>
              </div>
              <div class="flex space-x-2">
                <select
                  class="px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"
                >
                  <option>All Roles</option>
                  <option>Alumni</option>
                  <option>Student</option>
                  <option>Partner</option>
                  <option>Staff</option>
                  <option>Admin</option>
                </select>
                <select
                  class="px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"
                >
                  <option>All Status</option>
                  <option>Active</option>
                  <option>Inactive</option>
                  <option>Pending Verification</option>
                </select>
              </div>
            </div>

            <!-- Users Table -->
            <div class="bg-white shadow-sm rounded-lg overflow-hidden">
              <div class="px-6 py-4 border-b border-gray-200">
                <h3 class="text-lg font-semibold text-gray-900">User List</h3>
              </div>
              <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                  <thead class="bg-gray-50">
                    <tr>
                      <th
                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                      >
                        User
                      </th>
                      <th
                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                      >
                        Role
                      </th>
                      <th
                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                      >
                        Status
                      </th>
                      <th
                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                      >
                        Joined
                      </th>
                      <th
                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                      >
                        Last Active
                      </th>
                      <th
                        class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"
                      >
                        Actions
                      </th>
                    </tr>
                  </thead>
                  <tbody class="bg-white divide-y divide-gray-200">
                    <tr data-role="alumni" class="hover:bg-gray-50">
                      <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                          <div class="flex-shrink-0 h-10 w-10">
                            <img
                              class="h-10 w-10 rounded-full"
                              src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23374151' viewBox='0 0 24 24'%3E%3Cpath d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z'/%3E%3C/svg%3E"
                              alt=""
                            />
                          </div>
                          <div class="ml-4">
                            <div class="text-sm font-medium text-gray-900">
                              Maria Santos
                            </div>
                            <div class="text-sm text-gray-500">
                              maria.santos@email.com
                            </div>
                          </div>
                        </div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span
                          class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"
                        >
                          Alumni
                        </span>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span
                          class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"
                        >
                          Active
                        </span>
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        Oct 1, 2025
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        2 hours ago
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"
                      >
                        <div class="flex justify-end space-x-2">
                          <button
                            onclick="viewUser(1)"
                            class="text-primary hover:text-blue-900"
                          >
                            View
                          </button>
                          <button
                            onclick="editUser(1)"
                            class="text-yellow-600 hover:text-yellow-900"
                          >
                            Edit
                          </button>
                          <button
                            onclick="toggleUserStatus(1)"
                            class="text-red-600 hover:text-red-900"
                          >
                            Deactivate
                          </button>
                        </div>
                      </td>
                    </tr>
                    <tr data-role="student" class="hover:bg-gray-50">
                      <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                          <div class="flex-shrink-0 h-10 w-10">
                            <img
                              class="h-10 w-10 rounded-full"
                              src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23374151' viewBox='0 0 24 24'%3E%3Cpath d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z'/%3E%3C/svg%3E"
                              alt=""
                            />
                          </div>
                          <div class="ml-4">
                            <div class="text-sm font-medium text-gray-900">
                              Ana Reyes
                            </div>
                            <div class="text-sm text-gray-500">
                              ana.reyes@pcu.edu.ph
                            </div>
                          </div>
                        </div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span
                          class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-indigo-100 text-indigo-800"
                        >
                          Student
                        </span>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span
                          class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"
                        >
                          Active
                        </span>
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        Oct 10, 2025
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        3 hours ago
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"
                      >
                        <div class="flex justify-end space-x-2">
                          <button
                            onclick="viewUser(5)"
                            class="text-primary hover:text-blue-900"
                          >
                            View
                          </button>
                          <button
                            onclick="editUser(5)"
                            class="text-yellow-600 hover:text-yellow-900"
                          >
                            Edit
                          </button>
                          <button
                            onclick="toggleUserStatus(5)"
                            class="text-red-600 hover:text-red-900"
                          >
                            Deactivate
                          </button>
                        </div>
                      </td>
                    </tr>
                    <tr data-role="partner" class="hover:bg-gray-50">
                      <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                          <div class="flex-shrink-0 h-10 w-10">
                            <img
                              class="h-10 w-10 rounded-full"
                              src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23374151' viewBox='0 0 24 24'%3E%3Cpath d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z'/%3E%3C/svg%3E"
                              alt=""
                            />
                          </div>
                          <div class="ml-4">
                            <div class="text-sm font-medium text-gray-900">
                              Tech Solutions Inc.
                            </div>
                            <div class="text-sm text-gray-500">
                              hr@techsolutions.com
                            </div>
                          </div>
                        </div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span
                          class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-100 text-purple-800"
                        >
                          Partner
                        </span>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span
                          class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"
                        >
                          Active
                        </span>
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        Sep 28, 2025
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        1 day ago
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"
                      >
                        <div class="flex justify-end space-x-2">
                          <button
                            onclick="viewUser(2)"
                            class="text-primary hover:text-blue-900"
                          >
                            View
                          </button>
                          <button
                            onclick="editUser(2)"
                            class="text-yellow-600 hover:text-yellow-900"
                          >
                            Edit
                          </button>
                          <button
                            onclick="toggleUserStatus(2)"
                            class="text-red-600 hover:text-red-900"
                          >
                            Deactivate
                          </button>
                        </div>
                      </td>
                    </tr>
                    <tr data-role="staff" class="hover:bg-gray-50">
                      <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                          <div class="flex-shrink-0 h-10 w-10">
                            <img
                              class="h-10 w-10 rounded-full"
                              src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23374151' viewBox='0 0 24 24'%3E%3Cpath d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z'/%3E%3C/svg%3E"
                              alt=""
                            />
                          </div>
                          <div class="ml-4">
                            <div class="text-sm font-medium text-gray-900">
                              Staff Member
                            </div>
                            <div class="text-sm text-gray-500">
                              staff@pcu.edu.ph
                            </div>
                          </div>
                        </div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span
                          class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"
                        >
                          Staff
                        </span>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span
                          class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"
                        >
                          Active
                        </span>
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        Sep 15, 2025
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        5 hours ago
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"
                      >
                        <div class="flex justify-end space-x-2">
                          <button
                            onclick="viewUser(3)"
                            class="text-primary hover:text-blue-900"
                          >
                            View
                          </button>
                          <button
                            onclick="editUser(3)"
                            class="text-yellow-600 hover:text-yellow-900"
                          >
                            Edit
                          </button>
                          <button
                            onclick="toggleUserStatus(3)"
                            class="text-red-600 hover:text-red-900"
                          >
                            Deactivate
                          </button>
                        </div>
                      </td>
                    </tr>
                    <tr data-role="alumni" class="hover:bg-gray-50">
                      <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                          <div class="flex-shrink-0 h-10 w-10">
                            <img
                              class="h-10 w-10 rounded-full"
                              src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23374151' viewBox='0 0 24 24'%3E%3Cpath d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z'/%3E%3C/svg%3E"
                              alt=""
                            />
                          </div>
                          <div class="ml-4">
                            <div class="text-sm font-medium text-gray-900">
                              Carlos Rodriguez
                            </div>
                            <div class="text-sm text-gray-500">
                              carlos.rodriguez@email.com
                            </div>
                          </div>
                        </div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span
                          class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"
                        >
                          Alumni
                        </span>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span
                          class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800"
                        >
                          Pending Verification
                        </span>
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        Oct 3, 2025
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        Never
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"
                      >
                        <div class="flex justify-end space-x-2">
                          <button
                            onclick="verifyUser(4)"
                            class="text-green-600 hover:text-green-900"
                          >
                            Verify
                          </button>
                          <button
                            onclick="viewUser(4)"
                            class="text-primary hover:text-blue-900"
                          >
                            View
                          </button>
                          <button
                            onclick="editUser(4)"
                            class="text-yellow-600 hover:text-yellow-900"
                          >
                            Edit
                          </button>
                        </div>
                      </td>
                    </tr>
                    <tr data-role="admin" class="hover:bg-gray-50">
                      <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                          <div class="flex-shrink-0 h-10 w-10">
                            <img
                              class="h-10 w-10 rounded-full"
                              src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23374151' viewBox='0 0 24 24'%3E%3Cpath d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z'/%3E%3C/svg%3E"
                              alt=""
                            />
                          </div>
                          <div class="ml-4">
                            <div class="text-sm font-medium text-gray-900">
                              Jane Admin
                            </div>
                            <div class="text-sm text-gray-500">
                              jane.admin@pcu.edu.ph
                            </div>
                          </div>
                        </div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span
                          class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800"
                        >
                          Admin
                        </span>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span
                          class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"
                        >
                          Active
                        </span>
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        Jan 1, 2025
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                      >
                        1 hour ago
                      </td>
                      <td
                        class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"
                      >
                        <div class="flex justify-end space-x-2">
                          <button
                            onclick="viewUser(6)"
                            class="text-primary hover:text-blue-900"
                          >
                            View
                          </button>
                          <button
                            onclick="editUser(6)"
                            class="text-yellow-600 hover:text-yellow-900"
                          >
                            Edit
                          </button>
                          <button
                            onclick="toggleUserStatus(6)"
                            class="text-red-600 hover:text-red-900"
                          >
                            Deactivate
                          </button>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <!-- Pagination -->
              <div class="px-6 py-4 border-t border-gray-200">
                <div class="flex items-center justify-between">
                  <div class="text-sm text-gray-700">
                    Showing <span class="font-medium">1</span> to
                    <span class="font-medium">10</span> of
                    <span class="font-medium">1,234</span> results
                  </div>
                  <nav class="flex items-center space-x-2">
                    <button
                      class="px-3 py-1 text-sm bg-white border border-gray-300 text-gray-500 rounded-md"
                    >
                      Previous
                    </button>
                    <button
                      class="px-3 py-1 text-sm bg-primary text-white rounded-md"
                    >
                      1
                    </button>
                    <button
                      class="px-3 py-1 text-sm bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"
                    >
                      2
                    </button>
                    <button
                      class="px-3 py-1 text-sm bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"
                    >
                      3
                    </button>
                    <button
                      class="px-3 py-1 text-sm bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"
                    >
                      Next
                    </button>
                  </nav>
                </div>
              </div>
            </div>
          </div>
        </main>
      </div>

      <!-- Overlay for mobile -->
      <div
        id="sidebarOverlay"
        class="fixed inset-0 bg-gray-600 bg-opacity-50 z-40 lg:hidden hidden"
      ></div>

      <!-- Create User Modal -->
      <div
        id="createUserModal"
        class="hidden fixed inset-0 z-50 overflow-y-auto"
      >
        <div
          class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center"
        >
          <div
            class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"
          ></div>
          <div class="relative bg-white rounded-lg max-w-md w-full shadow-xl">
            <div
              class="px-6 py-4 border-b border-gray-200 flex justify-between items-center"
            >
              <h3 class="text-xl font-semibold text-gray-900">
                Create New Account
              </h3>
              <button
                onclick="closeCreateUserModal()"
                class="text-gray-400 hover:text-gray-600"
              >
                <svg
                  class="w-6 h-6"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M6 18L18 6M6 6l12 12"
                  ></path>
                </svg>
              </button>
            </div>
            <div class="p-6">
              <form id="createUserForm">
                <div class="space-y-4">
                  <!-- Role Selection -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2"
                      >Account Type <span class="text-red-500">*</span></label
                    >
                    <select
                      id="userRole"
                      name="role"
                      onchange="toggleRoleFields()"
                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"
                      required
                    >
                      <option value="">Select Role</option>
                      <option value="alumni">Alumni</option>
                      <option value="student">Student</option>
                      <option value="partner">Partner Organization</option>
                      <option value="staff">Staff</option>
                    </select>
                  </div>

                  <!-- Student-specific fields -->
                  <div id="studentFields" class="hidden space-y-4">
                    <div>
                      <label
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >First Name <span class="text-red-500">*</span></label
                      >
                      <input
                        type="text"
                        name="first_name"
                        required
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"
                      />
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Last Name <span class="text-red-500">*</span></label
                      >
                      <input
                        type="text"
                        name="last_name"
                        required
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"
                      />
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Middle Name</label
                      >
                      <input
                        type="text"
                        name="middle_name"
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"
                      />
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Name Suffix</label
                      >
                      <input
                        type="text"
                        name="suffix"
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"
                        placeholder="e.g., Jr., Sr., III"
                      />
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >School ID <span class="text-red-500">*</span></label
                      >
                      <input
                        type="text"
                        name="school_id"
                        required
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"
                      />
                    </div>
                    <div>
                      <label
                        class="block text-sm font-medium text-gray-700 mb-1"
                        >Department <span class="text-red-500">*</span></label
                      >
                      <select
                        name="department"
                        required
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"
                      >
                        <option value="">Select Department</option>
                        <option value="collegeofartsandsciences">
                          College of Arts and Sciences
                        </option>
                        <option value="collegeofbusinessandaccountancy">
                          College of Business and Accountancy
                        </option>
                        <option value="collegeofcriminaljustice">
                          College of Criminal Justice
                        </option>
                        <option value="collegeofengineeringandtechnology">
                          College of Engineering and Technology
                        </option>
                        <option value="collegeofeducation">
                          College of Education
                        </option>
                        <option value="collegeofinformatics">
                          College of Informatics
                        </option>
                        <option
                          value="collegeofhospitalityandtourismmanagement"
                        >
                          College of Hospitality and Tourism Management
                        </option>
                        <option value="collegeofnursingandhealthsciences">
                          College of Nursing and Health Sciences
                        </option>
                        <option value="collegeofsocialwork">
                          College of Social Work
                        </option>
                      </select>
                    </div>
                  </div>

                  <!-- Common Email Field -->
                  <div id="emailField">
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Email Address <span class="text-red-500">*</span></label
                    >
                    <input
                      type="email"
                      name="email"
                      required
                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"
                    />
                    <p id="emailNote" class="hidden text-xs text-gray-500 mt-1">
                      Must use @pcu.edu.ph domain
                    </p>
                  </div>

                  <!-- Send credentials option -->
                  <div class="flex items-center">
                    <input
                      type="checkbox"
                      id="sendCredentials"
                      name="send_credentials"
                      checked
                      disabled
                      class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"
                    />
                    <label
                      for="sendCredentials"
                      class="ml-2 block text-sm text-gray-700"
                    >
                      Send login credentials to user's email
                    </label>
                  </div>
                </div>

                <div class="flex justify-end space-x-3 mt-6">
                  <button
                    type="button"
                    onclick="closeCreateUserModal()"
                    class="px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"
                  >
                    Cancel
                  </button>
                  <button
                    type="submit"
                    class="px-4 py-2 bg-primary text-white rounded-md hover:bg-blue-700"
                  >
                    Create Account
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Bulk Upload Modal -->
      <div
        id="bulkUploadModal"
        class="hidden fixed inset-0 z-50 overflow-y-auto"
      >
        <div
          class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center"
        >
          <div
            class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"
          ></div>
          <div class="relative bg-white rounded-lg max-w-lg w-full shadow-xl">
            <div
              class="px-6 py-4 border-b border-gray-200 flex justify-between items-center"
            >
              <h3 class="text-xl font-semibold text-gray-900">
                Bulk Upload Users
              </h3>
              <button
                onclick="closeBulkUploadModal()"
                class="text-gray-400 hover:text-gray-600"
              >
                <svg
                  class="w-6 h-6"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M6 18L18 6M6 6l12 12"
                  ></path>
                </svg>
              </button>
            </div>
            <div class="p-6">
              <div class="mb-6">
                <h4 class="text-sm font-medium text-gray-900 mb-2">
                  Upload Instructions:
                </h4>
                <ul class="text-sm text-gray-600 space-y-1">
                  <li> Upload an Excel file (.xlsx or .xls)</li>
                  <li> First row should contain column headers</li>
                  <li>
                     For Students: Required columns: first_name, last_name,
                    middle_name, suffix, email, school_id
                  </li>
                  <li>
                     For Alumni: Required column: email; Optional column:
                    school_id
                  </li>
                </ul>
              </div>
              <div class="mb-4">
                <a
                  href="#"
                  onclick="downloadTemplate()"
                  class="text-primary hover:underline text-sm"
                >
                  <svg
                    class="w-4 h-4 inline mr-1"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M12 10v6m0 0l-4-4m4 4l4-4m-4-6V3"
                    ></path>
                  </svg>
                  Download Excel Template
                </a>
              </div>
              <form id="bulkUploadForm">
                <div class="space-y-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2"
                      >Upload Type <span class="text-red-500">*</span></label
                    >
                    <select
                      name="upload_type"
                      onchange="toggleBulkUploadFields()"
                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"
                      required
                    >
                      <option value="">Select Upload Type</option>
                      <option value="students">Students</option>
                      <option value="alumni">Alumni</option>
                    </select>
                  </div>
                  <div id="studentDepartmentField" class="hidden">
                    <label class="block text-sm font-medium text-gray-700 mb-1"
                      >Department <span class="text-red-500">*</span></label
                    >
                    <select
                      name="department"
                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"
                    >
                      <option value="">Select Department</option>
                      <option value="collegeofartsandsciences">
                        College of Arts and Sciences
                      </option>
                      <option value="collegeofbusinessandaccountancy">
                        College of Business and Accountancy
                      </option>
                      <option value="collegeofcriminaljustice">
                        College of Criminal Justice
                      </option>
                      <option value="collegeofengineeringandtechnology">
                        College of Engineering and Technology
                      </option>
                      <option value="collegeofeducation">
                        College of Education
                      </option>
                      <option value="collegeofinformatics">
                        College of Informatics
                      </option>
                      <option value="collegeofhospitalityandtourismmanagement">
                        College of Hospitality and Tourism Management
                      </option>
                      <option value="collegeofnursingandhealthsciences">
                        College of Nursing and Health Sciences
                      </option>
                      <option value="collegeofsocialwork">
                        College of Social Work
                      </option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2"
                      >Select Excel File
                      <span class="text-red-500">*</span></label
                    >
                    <input
                      type="file"
                      name="excel_file"
                      accept=".xlsx,.xls"
                      required
                      class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-blue-700"
                    />
                  </div>
                  <div class="flex items-center">
                    <input
                      type="checkbox"
                      id="sendBulkCredentials"
                      name="send_credentials"
                      checked
                      disabled
                      class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"
                    />
                    <label
                      for="sendBulkCredentials"
                      class="ml-2 block text-sm text-gray-700"
                    >
                      Send login credentials to all users via email
                    </label>
                  </div>
                </div>
                <div class="flex justify-end space-x-3 mt-6">
                  <button
                    type="button"
                    onclick="closeBulkUploadModal()"
                    class="px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"
                  >
                    Cancel
                  </button>
                  <button
                    type="submit"
                    class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700"
                  >
                    Upload Users
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>

      <script>
          document.addEventListener("DOMContentLoaded", function () {
          // Sidebar toggle functionality
          const sidebar = document.getElementById("sidebar");
          const openSidebar = document.getElementById("openSidebar");
          const closeSidebar = document.getElementById("closeSidebar");
          const sidebarOverlay = document.getElementById("sidebarOverlay");

          function showSidebar() {
            sidebar.classList.remove("-translate-x-full");
            sidebarOverlay.classList.remove("hidden");
          }

          function hideSidebar() {
            sidebar.classList.add("-translate-x-full");
            sidebarOverlay.classList.add("hidden");
          }

          openSidebar?.addEventListener("click", showSidebar);
          closeSidebar?.addEventListener("click", hideSidebar);
          sidebarOverlay?.addEventListener("click", hideSidebar);

          // Dropdown functionality
          function toggleDropdown(dropdownId) {
            const menu = document.getElementById(dropdownId + "-menu");
            const arrow = document.getElementById(dropdownId + "-arrow");
            if (menu.classList.contains("hidden")) {
              menu.classList.remove("hidden");
              arrow.classList.add("rotate-180");
            } else {
              menu.classList.add("hidden");
              arrow.classList.remove("rotate-180");
            }
          }

          function toggleUserMenu() {
            const menu = document.getElementById("userMenu");
            menu.classList.toggle("hidden");
          }

          function logout() {
            if (confirm("Are you sure you want to logout?")) {
              window.location.href = "../login.html";
            }
          }

          function filterUsers(type) {
            document.querySelectorAll(".user-filter").forEach((filter) => {
              filter.classList.remove("active", "border-primary", "text-primary");
              filter.classList.add("border-transparent", "text-gray-500");
            });
            event.target.classList.add("active", "border-primary", "text-primary");
            event.target.classList.remove("border-transparent", "text-gray-500");
            const rows = document.querySelectorAll("tbody tr");
            rows.forEach((row) => {
              if (type === "all" || row.dataset.role === type) {
                row.style.display = "";
              } else {
                row.style.display = "none";
              }
            });
          }

          // Create User Modal
          function openCreateUserModal() {
            document.getElementById("createUserModal").classList.remove("hidden");
          }

          function closeCreateUserModal() {
            document.getElementById("createUserModal").classList.add("hidden");
            document.getElementById("createUserForm").reset();
            document.getElementById("preserveAspectRatio")="xMidYMid meet">Id("studentFields").classList.add("hidden");
            document.getElementById("emailNote").classList.add("hidden");
          }

          function toggleRoleFields() {
            const role = document.getElementById("userRole").value;
            const studentFields = document.getElementById("studentFields");
            const emailNote = document.getElementById("emailNote");

            studentFields.classList.add("hidden");
            emailNote.classList.add("hidden");

            if (role === "student" || role === "staff") {
              emailNote.classList.remove("hidden");
            }
            if (role === "student") {
              studentFields.classList.remove("hidden");
            }
          }

          // Bulk Upload Modal
          function openBulkUploadModal() {
            document.getElementById("bulkUploadModal").classList.remove("hidden");
          }

          function closeBulkUploadModal() {
            document.getElementById("bulkUploadModal").classList.add("hidden");
            document.getElementById("bulkUploadForm").reset();
            document.getElementById("studentDepartmentField").classList.add("hidden");
          }

          function toggleBulkUploadFields() {
            const uploadType = document.querySelector("#bulkUploadForm [name='upload_type']").value;
            const studentDepartmentField = document.getElementById("studentDepartmentField");
            studentDepartmentField.classList.toggle("hidden", uploadType !== "students");
          }

          function downloadTemplate() {
            const uploadType = document.querySelector("#bulkUploadForm [name='upload_type']").value;
            let csvContent;
            if (uploadType === "students") {
              csvContent = "first_name,last_name,middle_name,suffix,email,school_id\nJohn,Doe,,Jr.,john.doe@pcu.edu.ph,123456";
            } else {
              csvContent = "email,school_id\njane.doe@email.com,123457";
            }
            const blob = new Blob([csvContent], { type: "text/csv" });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = uploadType === "students" ? "student_template.csv" : "alumni_template.csv";
            a.click();
            window.URL.revokeObjectURL(url);
          }

          // Simulate credential generation
          function generateCredentials(email, role, userData = {}) {
            const username = email.split("@")[0];
            const tempPassword = Math.random().toString(36).slice(-8);
            return { username, password: tempPassword, ...userData, role, email };
          }

          // Simulate email sending
          function sendCredentials(user) {
            console.log(`Credentials sent to ${user.email}: Username: ${user.username}, Password: ${user.password}`);
            alert(`Credentials sent to ${user.email}: Username: ${user.username}, Password: ${user.password}`);
          }

          // Simulate database of existing users
          const existingUsers = [
            { school_id: "123456", email: "ana.reyes@pcu.edu.ph", role: "student" },
          ];

          // Create User Form Submission
          document.getElementById("createUserForm").addEventListener("submit", function (e) {
            e.preventDefault();
            const formData = new FormData(this);
            const role = formData.get("role");
            const email = formData.get("email");

            // Email validation
            if ((role === "student" || role === "staff") && !email.endsWith("@pcu.edu.ph")) {
              alert("Email must use @pcu.edu.ph domain for Student and Staff accounts.");
              return;
            }

            let userData = { role, email };
            if (role === "student") {
              const requiredFields = ["first_name", "last_name", "school_id", "department"];
              for (const field of requiredFields) {
                if (!formData.get(field)) {
                  alert(`Please fill out the ${field.replace("_", " ")} field.`);
                  return;
                }
              }
              userData = {
                first_name: formData.get("first_name"),
                last_name: formData.get("last_name"),
                middle_name: formData.get("middle_name") || "",
                suffix: formData.get("suffix") || "",
                school_id: formData.get("school_id"),
                department: formData.get("department"),
                role,
                email,
              };
            }

            // Generate and send credentials
            const credentials = generateCredentials(email, role, userData);
            sendCredentials(credentials);
            alert(`Account created successfully for ${email}!`);
            closeCreateUserModal();
          });

          // Bulk Upload Form Submission
          document.getElementById("bulkUploadForm").addEventListener("submit", function (e) {
            e.preventDefault();
            const formData = new FormData(this);
            const uploadType = formData.get("upload_type");
            const file = formData.get("excel_file");
            const department = formData.get("department");

            if (!file) {
              alert("Please select an Excel file to upload.");
              return;
            }
            if (uploadType === "students" && !department) {
              alert("Please select a department for student uploads.");
              return;
            }

            // Simulate file processing
            const reader = new FileReader();
            reader.onload = function (event) {
              // Simulate parsing CSV (in real app, use a library like PapaParse)
              const csvData = event.target.result;
              const rows = csvData.split("\n").slice(1); // Skip header
              const users = [];

              if (uploadType === "students") {
                for (const row of rows) {
                  const [first_name, last_name, middle_name, suffix, email, school_id] = row.split(",");
                  if (!email || !first_name || !last_name || !school_id) {
                    alert("Invalid student data: Missing required fields.");
                    return;
                  }
                  if (!email.endsWith("@pcu.edu.ph")) {
                    alert(`Invalid email: ${email} must use @pcu.edu.ph domain.`);
                    return;
                  }
                  users.push(
                    generateCredentials(email, "student", {
                      first_name,
                      last_name,
                      middle_name: middle_name || "",
                      suffix: suffix || "",
                      school_id,
                      department,
                    })
                  );
                }
              } else if (uploadType === "alumni") {
                for (const row of rows) {
                  const [email, school_id] = row.split(",");
                  if (!email) {
                    alert("Invalid alumni data: Email is required.");
                    return;
                  }
                  const existingUser = school_id
                    ? existingUsers.find((u) => u.school_id === school_id)
                    : null;
                  if (existingUser) {
                    existingUser.role = "alumni";
                    users.push({ ...existingUser, username: existingUser.email.split("@")[0], password: Math.random().toString(36).slice(-8) });
                  } else {
                    users.push(generateCredentials(email, "alumni", { school_id: school_id || "" }));
                  }
                }
              }

              // Simulate sending credentials to all users
              users.forEach((user) => sendCredentials(user));
              alert(`Successfully processed ${users.length} ${uploadType} accounts.`);
              closeBulkUploadModal();
            };
            reader.readAsText(file);
          });

          // Expose functions to global scope for HTML event handlers
          window.toggleDropdown = toggleDropdown;
          window.toggleUserMenu = toggleUserMenu;
          window.logout = logout;
          window.filterUsers = filterUsers;
          window.openCreateUserModal = openCreateUserModal;
          window.closeCreateUserModal = closeCreateUserModal;
          window.toggleRoleFields = toggleRoleFields;
          window.openBulkUploadModal = openBulkUploadModal;
          window.closeBulkUploadModal = closeBulkUploadModal;
          window.toggleBulkUploadFields = toggleBulkUploadFields;
          window.downloadTemplate = downloadTemplate;

          // Placeholder functions for table actions
          window.viewUser = function (id) {
            alert(`Viewing user with ID: ${id}`);
          };
          window.editUser = function (id) {
            alert(`Editing user with ID: ${id}`);
          };
          window.toggleUserStatus = function (id) {
            alert(`Toggling status for user with ID: ${id}`);
          };
          window.verifyUser = function (id) {
            alert(`Verifying user with ID: ${id}`);
          };
        });
      </script>
    </div>
  </body>
</html>
